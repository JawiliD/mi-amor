<!-- audio.html (Background Music Player) -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Background Music</title>
</head>
<body>

  <audio id="audioPlayer" autoplay></audio>

  <script>
    // Define a playlist
    const playlist = [
      "audios/enchanted.mp3",
      "audios/araw-araw.mp3",
      
    ];

    let currentTrack = localStorage.getItem("currentTrack") || 0;
    let audio = document.getElementById("audioPlayer");

    function playTrack(index) {
      currentTrack = index;
      localStorage.setItem("currentTrack", currentTrack); // Save track position

      audio.src = playlist[currentTrack];
      audio.play().catch(error => console.error("Playback error:", error));
    }

    // Play next song when the current one ends
    audio.addEventListener("ended", () => {
      currentTrack = (parseInt(currentTrack) + 1) % playlist.length; // Loop playlist
      playTrack(currentTrack);
    });

    // Save time position before leaving page
    window.addEventListener("beforeunload", () => {
      localStorage.setItem("musicTime", audio.currentTime);
    });

    // Restore last played song & position
    audio.addEventListener("loadedmetadata", () => {
      let savedTime = localStorage.getItem("musicTime");
      if (savedTime) {
        audio.currentTime = parseFloat(savedTime);
      }
    });

    playTrack(currentTrack); // Start playing
  </script>

</body>
</html>
